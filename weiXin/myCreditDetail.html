<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name = "format-detection" content = "telephone=no">
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>我的PU</title>
    <link href="bower_components/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/reset.css" rel="stylesheet">
</head>
<body>
<!--头部说明-->
<div class="w-head">
	<img src="img/back.png" class="w-back" onclick="history.back(-1)">
	<span>学分详情</span>
	<a href="#" class="w-share"><img src="img/shuo.png"></a>
	<a href="#" class="w-home"><img src="img/home.png"></a>
</div>
<div>
    <header class="credit-detaile-header">
		<!--<div class="w-detaile-circle">-->
			<div class="L-score-more">
				<div>
					<div class="full-circle-container">
					
					</div>
					
					<p class="L-score-more-all" >可得<span id="L-score-more-all">120.00</span></p>
					<p class="L-score-full-can" id="L-score-full-can">120.00</p>
					<p class="L-score-more-status"><span>已满</span></p>
				</div>
			</div>
		<!--</div>-->
		<p class="credit-detaile-college">江南大学设计学院</p>
		<p class="credit-detaile-term">00届&nbsp;&nbsp;第三学期</p>
    </header>
    <div class="apply-credit-list">
        <ul>
            <li class="to-event" data-eventid="">
            	<div>
                    <div class="apply-credit-school">
                        <p>大学生艺术节比赛活动大学生艺术节比赛活动大学生艺术节比赛活动</p>
                        <p>2015-09-28至2015-09-28</p>
                    </div>
            	</div>

                <div class="apply-event-point pull-left">
                    <p class="credit-event-signed">5&nbsp;<span>学分</span></p>
                </div>
                <div class="apply-event-status pull-right">
                    <!--<p class="credit-event-signed">已申请</p>-->
                     <p class="credit-event-signed">待&nbsp;<span>陈国华</span>&nbsp;老师审核</p>
                </div>
            </li>
            <li class="to-event" data-eventid="">
            	<div>
                    <div class="apply-credit-school">
                        <p>大学生艺术节比赛活动大学生艺术节比赛活动大学生艺术节比赛活动</p>
                        <p>2015-09-28至2015-09-28</p>
                    </div>
            	</div>

                <div class="apply-event-point pull-left">
                    <p class="credit-event-signed">5&nbsp;<span>学分</span></p>
                </div>
                <div class="apply-event-status pull-right">
                    <p class="credit-event-signed">已申请</p>
                </div>
            </li>
                        <li class="to-event" data-eventid="">
            	<div>
                    <div class="apply-credit-school">
                        <p>大学生艺术节比赛活动大学生艺术节比赛活动大学生艺术节比赛活动</p>
                        <p>2015-09-28至2015-09-28</p>
                    </div>
            	</div>

                <div class="apply-event-point pull-left">
                    <p class="credit-event-signed">5&nbsp;<span>学分</span></p>
                </div>
                <div class="apply-event-status pull-right">
                    <p class="credit-event-signed">已申请</p>
                </div>
            </li>
        </ul>
    </div>
</div>
</body>
</html>
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="bower_components/circle-progress.js"></script>
<script src="bower_components/progressbar.js/dist/progressbar.min.js"></script>
<script>
//学分已满	
    var circle = new ProgressBar.Circle('.full-circle-container', {
        color: '#35a5f2',
        strokeWidth: 3,
        trailWidth:3,
        fill: '#eff1f8',
        duration: 500,
        easing: '',
        trailColor: "#e2e2e2"
    });
	circle.animate(1, function() {
   })
//下拉加载
	var page=1;
	var loadingStr = '<div class="spinner"><div class="spinner-container container1"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container2"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container3"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div>';
	var noneStr = '<div class="nonestr">没有记录</div>';
	var loadingShow = false;
	var html = $(".apply-credit-list ul").html();
	$(function () {
		getdata();
	});
	
	function getdata(){
		if (!loadingShow) {
			$(".apply-credit-list ul").append(loadingStr);
			loadingShow = true;
			getAjaxNews();
		}
	
	}
		
	$(window).scroll(function(){
		var document = window.document;
		var top = document.body.scrollTop || document.documentElement.scrollTop
				|| 0;
		top += document.documentElement.clientHeight;
		var height = document.documentElement.scrollHeight;
		if (height - top < 1000) {
			if (!loadingShow) {
				$(".apply-credit-list ul").append(loadingStr);
				loadingShow = true;
				getAjaxNews();
			}
		}
	});
	
	function getAjaxNews() {
			$.ajax({
				url: "#",
				//type: 'get',
				data: {
					page: page
				},
				error: function () {
				},
				success: function (data) {
					//if (data!='0') {
						$(".spinner").hide();
					    $(".apply-credit-list ul").append(html);
					//	$(".square_comment_list").append(data);
						$(".spinner").remove();
						page++;
						loadingShow = false;
					//} else {
					//	$(".spinner").hide();
					//	$(".square_comment_list").append(noneStr);
					//	$(".spinner").remove();
					//}
				}
			});
	}
</script>